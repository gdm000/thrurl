#!/usr/bin/env ruby

# example usage:
# ./thrurl -h "localhost" -p 5000 -m "checkinsPerLocation" -s "CheckinService" -a "{ user: { id: 1 } }"


Dir["./lib/*.rb"].each { |f| require f; }



configs = ArgsReader.new(ARGV).configs

thrift_module = ThriftGenerator.new(configs[:service]).generate_if_needed

puts Client.new(thrift_module::Client, configs).call